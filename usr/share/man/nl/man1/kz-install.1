.\"############################################################################
.\"# Man-pagina voor kz-install.
.\"#
.\"# Geschreven door Karel Zimmer <info@karelzimmer.nl>, CC0 1.0 Universeel
.\"# <https://creativecommons.org/publicdomain/zero/1.0/deed.nl>, 2019-2023.
.\"############################################################################
.\"
.TH "KZ-INSTALL" "1" "2009-2023" "kz 365" "Handleiding kz"
.\"
.\"
.SH NAAM
kz-install \- Apps installeren.
.\"
.\"
.SH SAMENVATTING
.B kz install
[OPTIE...] [\fIAPP\fR...]
.\"
.\"
.SH BESCHRIJVING
\fBkz install\fR installeert apps en wijzigt systeeminstellingen.
.sp
In een grafische werkomgeving kan opdracht \fBkz install\fR worden uitgevoerd
door te zoeken naar \fBapps\fR, klik op \fBApps installeren\fR.
.sp
Gebruik \fBkz setup\fR (na \fBkz install\fR) voor het instellen van apps en het
wijzigen van gebruikersinstellingen.
.sp
\fBkz install\fR verwerkt een invoerbestand ("installatiebestand") die
opdrachten bevat voor het installeren van apps en het wijzigen van
systeeminstellingen.
.sp
Standaard verwerkt \fBkz install\fR het invoerbestand
/usr/bin/kz-install-install-<distributie>-desktop.sh,
.br
<distributie> wordt ingevuld met de waarde van de huidige computer.
.sp
Bijvoorbeeld kz-install-install-ubuntu-desktop.sh.
.br
Dit invoerbestand bevat opdrachten voor alle hierin opgenomen computers (HOSTs)
voor Ubuntu desktop.
.sp
Met optie \fB-f\fR, \fB--file\fR \fIFILE\fR kan een ander invoerbestand
opgegeven worden, de bestandsnaam dient te beginnen met \fBkz-install-\fR.
.sp
Bij het verwerken van dit invoerbestand worden de opdrachten voor de huidige
computernaam (HOST) geselecteerd en gekopieerd naar een tijdelijk bestand.
.sp
Met optie \fB-r\fR, \fB--remove\fR kan de installatie ongedaan worden gemaakt.
.br
Dan wordt bijvoorbeeld bestand /usr/bin/kz-install-remove-ubuntu-desktop.sh
verwerkt.
.sp
Met optie \fB--server\fR wordt niet desktop maar server gebruikt.
.br
Dan wordt bijvoorbeeld bestand /usr/bin/kz-install-install-ubuntu-server.sh
verwerkt.
.sp
Voor de indeling van het invoerbestand zie het deel \fBBESTANDSINDELING\fR
hieronder.
.sp
Als er geen \fIAPP\fRs zijn opgegeven wordt het tijdelijk bestand verwerkt.
.sp
Optie \fB-a\fR, \fB--apps\fR geeft een lijst van apps die beschikbaar zijn in
alle standaard invoerbestanden.
.sp
Het is mogelijk om \fIAPP\fRs op te geven.
.br
Per opgegeven \fIAPP\fR wordt de eerst beschikbare app opgezocht in alle
standaard invoerbestanden zonder een selectie op computernaam (HOST) en wordt
deze samen met de bijbehorende opdrachten gekopieerd naar een tijdelijk
bestand.
.sp
Optie \fB-c\fR, \fB--cat\fR geeft de inhoud van het tijdelijk bestand.
.sp
Optie \fB-s\fR, \fB--simulate\fR toont de opdrachten in het tijdelijk bestand
die uitgevoerd zouden worden.
.sp
Een -- signaleert het einde van opties en schakelt verdere verwerking van
opties uit.
.\"
.\"
.SH BESTANDSINDELING
De standaard invoerbestanden dienen te beginnen met \fBkz-install-install-\fR
of \fBkz-install-remove-\fR, en te eindigen met \fB.sh\fR.
.sp
De regels worden verwerkt op de volgorde zoals deze in de bestanden voorkomen.
.br
De opdrachten standaard meegeleverd bij \fBkz install\fR zijn zodanig opgesteld
dat bij herhaaldelijk uitvoeren het resultaat hetzelfde blijft.
.sp
Zie \fBTabel 1\fR voor welke \fBsoorten\fR regels er zijn en hoe deze regels
verwerkt worden.
.sp
Zie \fBTabel 2\fR voor een \fBvoorbeeld\fR van deze regels in
voorbeeldbestand kz-install-install-ubuntu-desktop.sh voor computer pc02.
.br
Meer voorbeelden zijn te zien via de opdracht \fBkz install --cat\fR.
.sp
.sp
.br
.B Tabel 1. Soorten regels en hun verwerking
.TS
allbox tab(:);
lb | lb.
T{
Regel
T}:T{
Beschrijving
T}
.T&
l | l
l | l
l | l
l | l
l | l
l | l.
T{
# APP <naam>
T}:T{
Bevat de <naam> van de APP.
T}
T{
#-APP <naam>
T}:T{
Idem, wordt niet altijd gebruikt, zie [1].
T}
T{
# HOST <host>
T}:T{
Naam van de computer (<host>) waar de opdracht van toepassing is
T}
T{
.sp
T}:T{
Wordt overgeslagen (is leeg).
T}
T{
#...
T}:T{
Wordt overgeslagen (is commentaar).
T}
T{
Opdracht
T}:T{
Opdracht voor het installeren van APP <app>
T}
.TE
.sp
.sp
.br
[1]
.br
Regel '#-APP <naam>' is bedoeld voor een opdracht die specifiek is voor een
distributie of een computer.
.br
Deze regel wordt niet getoond bij optie \fB-a\fR, \fB--apps\fR, en wordt niet
gebruikt om opdrachten op te zoeken bij een opgegeven \fIAPP\fR.
.br
Deze regel wordt wél gebruikt bij het verwerken van het tijdelijk bestand.
.sp
.sp
.br
.B Tabel 2. Regels in voorbeeldbestand kz-install-install-ubuntu-desktop.sh
.TS
box tab(:);
lb | lb.
T{
Regel
T}:T{
Beschrijving
T}
.T&
- | -
l | l
l | l
l | l
l | l
l | l
l | l
l | l
l | l
l | l.
T{
# APP gnome-gmail
T}:T{
Naam van de APP.
T}
T{
# HOST pc02
T}:T{
Opdracht is voor pc02, zie [2].
T}
T{
# Gmail as the preferred email application in GNOME
T}:T{
Beschrijving van de APP.
T}
T{
sudo apt-get install --yes gnome-gmail
T}:T{
Installeer-opdracht.
T}
T{
.sp
T}:T{
Lege regel.
T}
T{
#-APP gast
T}:T{
Verborgen APP gast.
T}
T{
# HOST pc02
T}:T{
Alleen op pc02 uitvoeren.
T}
T{
# Add user gast
T}:T{
Beschrijving van de APP.
T}
T{
sudo useradd --create-home ... gast
T}:T{
Installeer-opdracht.
T}
.TE
.sp
.sp
.br
[2]
.br
De regel '# HOST pc02' zorgt ervoor dat de bijbehorende opdrachten alleen op
computer pc02 worden uitgevoerd.
.br
Een regel '# HOST *' zorgt ervoor dat de bijbehorende opdrachten op alle
computers worden uitgevoerd.
.br
De regel '# HOST ' wordt genegeerd (geen selectie op computernaam) bij het
zoeken naar opdrachten voor een opgegeven \fIAPP\fR.
.\"
.\"
.sp
.SH OPTIES
Verplichte argumenten voor lange opties zijn ook verplicht voor korte opties.
.TP
\fB-a\fR, \fB--apps\fR
Toon een lijst van te installeren apps.
.TP
\fB-c\fR, \fB--cat\fR
Toon de inhoud van het tijdelijk bestand.
.TP
\fB-r\fR, \fB--remove\fR
Verwijder apps.
.TP
\fB--server\fR
Apps installeren en systeeminstellingen wijzigen voor een server.
.TP
\fB-s\fR, \fB--simulate\fR
Geen actie, maar simuleer de installatie, en toon de opdrachten die uitgevoerd
zouden worden.
.TP
\fB-u\fR, \fB--usage\fR
Toon de beschikbare opties.
.TP
\fB-h\fR, \fB--help\fR
Toon een korte omschrijving van de beschikbare opties.
.TP
\fB-v\fR, \fB--version\fR
Toon de versie, de auteur, en het auteursrecht.
.TP
\fB-g\fR, \fB--gui\fR
Start in grafische modus (gui=graphical user interface;
grafische gebruikersinterface).
.TP
\fB--\fR
Signaleert het einde van opties en schakelt verdere verwerking van opties uit.
.\"
.\"
.SH STOPSTATUS
Normaal wordt afsluitwaarde 0 teruggegeven; als er een fout optreedt, is de
afsluitwaarde ongelijk 0.
.\"
.\"
.SH BESTANDEN
/usr/bin/kz-install-install-debian-desktop.sh
.RS
Standaard installatiebestand voor Debian desktop.
.RE
.sp
/usr/bin/kz-install-install-ubuntu-desktop.sh
.RS
Standaard installatiebestand voor Ubuntu desktop.
.RE
.sp
/usr/bin/kz-install-remove-debian-desktop.sh
.RS
Standaard verwijderbestand voor Debian desktop.
.RE
.sp
/usr/bin/kz-install-remove-ubuntu-desktop.sh
.RS
Standaard verwijderbestand voor Ubuntu desktop.
.RE
.sp
/tmp/kz-install-install-cmds-XXXXXXXXXX /tmp/kz-install-remove-cmds-XXXXXXXXXX
.RS
Tijdelijk bestand met alle uit te voeren opdrachten.
.RE
.sp
/tmp/kz-install-install-sims-XXXXXXXXXX /tmp/kz-install-remove-sims-XXXXXXXXXX
.RS
Tijdelijk simulatiebestand.
.RE
.sp
~/Instellingen/Apps
.RS
Lijst van geïnstalleerde apps. Ter controle. Aangemaakt door kz-backup.
.RE
.\"
.\"
.SH NOTITIES
.IP " 1." 4
Checklist installatie
.RS 4
https://karelzimmer.nl/html/nl/linux.html#documents
.RE
.IP " 2." 4
Persoonlijke map / Instellingen / Apps
.RS 4
In bestand Apps staan namen van eerder geïnstalleerde pakketten.
.br
Is te gebruiken om de installatie te controleren op volledigheid.
.RE
.IP " 3." 4
IaC en Day 1 Operations
.RS 4
\fBkz install\fR wordt voornamelijk gebruikt voor \fBIaC\fR en
\fBDay 1 Operations\fR. Zie \fBkz\fR(1) voor een uitleg.
.RE
.\"
.\"
.SH VOORBEELDEN
.sp
\fBkz install\fR
.RS
Installeer alles wat in de standaard installatiebestanden staat.
.br
Hiervoor is in een grafische werkomgeving ook starter \fBApps installeren\fR
beschikbaar.
.RE
.sp
\fBkz install google-chrome\fR
.RS
Installeer Google Chrome.
.RE
.sp
\fBkz install --remove google-chrome\fR
.RS
Verwijder Google Chrome.
.RE
.sp
\fBkz install --cat google-chrome\fR
.RS
Toon installatie-opdrachten voor Google Chrome.
.RE
.sp
\fBkz install --cat --remove google-chrome\fR
.RS
Toon verwijder-opdrachten voor Google Chrome.
.RE
.\"
.\"
.SH AUTEUR
Geschreven door Karel Zimmer <info@karelzimmer.nl>, CC0 1.0 Universeel
<https://creativecommons.org/publicdomain/zero/1.0/deed.nl>, 2009-2023.
.\"
.\"
.SH ZIE OOK
\fBkz\fR(1),
\fBkz_common.sh\fR(1),
\fBkz-menu\fR(1),
\fBkz-setup\fR(1),
\fBkz-update\fR(1),
\fBhttps://karelzimmer.nl\fR
.\"
.\"
.SH KZ
Onderdeel van het \fBkz\fR(1) pakket, genoemd naar de maker Karel Zimmer.
.\"
.\"
.SH BESCHIKBAARHEID
Opdracht \fBkz install\fR is onderdeel van het pakket \fBkz\fR en is
beschikbaar op de website van Karel Zimmer
.br
<https://karelzimmer.nl/html/nl/linux.html#scripts>.
