.\"############################################################################
.\"# SPDX-FileComment: Man page for kz-restore
.\"#
.\"# SPDX-FileCopyrightText: Karel Zimmer <info@karelzimmer.nl>
.\"# SPDX-License-Identifier: CC0-1.0
.\"############################################################################

.TH "KZ-RESTORE" "1" "4.2.1" "kz" "User commands"

.SH NAME
kz-restore - Restore home folder

.SH SYNOPSIS
.SY kz\ restore
[<options>]
.YS

.SH DESCRIPTION
\fBkz restore\fR restores a backup copy of the Home folder.
.sp
In a desktop environment command \fBkz restore\fR can be executed by
searching for \fBback\fR, click on \fBRestore\fR.
.sp
The backup is expected on a mounted USB medium such as a USB external hard disk
in directory \fB<user_name>@<computer name>\fR, for example
/media/john/backupdisk/john@pc02 for user John on pc02.
.sp
In a desktop environment when the backup is restored, the previously set
desktop background will be restored, see the \fBFILES\fR section below..
.sp
With option \fB-g\fR, \fB--gui\fR, \fBkz restore\fR runs in graphical mode. A
desktop environment is required.
.sp
With option \fB-s\fR, \fB--source\fR \fIDIRECTORY\fR another location can be
specified. For example /media/john/usbstick instead of /media/john/backupdisk.
.sp
rsync is used to restore the backup.
.sp
Files in the Home folder that are not in the backup are not deleted (rsync's
--delete option is not used).
.sp
In a desktop environment, the desktop background, if available, will be
restored.
.sp
With command \fBkz backup\fR the Home folder can be backed up.

.SH OPTIONS
Mandatory arguments to long options are mandatory for short options too.
.TP
\fB-g\fR, \fB--gui\fR
Run in graphical mode (gui=graphical user interface). A desktop environment is
required.
.TP
\fB-s\fR, \fB--source \fIDIRECTORY\fR
Use the backup in the specified directory.
.TP
\fB-h\fR, \fB--help\fR
Show a short description of the available options.
.TP
\fB-m\fR, \fB--manual\fR
Show the manual page.
.TP
\fB-u\fR, \fB--usage\fR
Show the available options.
.TP
\fB-v\fR, \fB--version\fR
Show the version, author, and copyright.

.SH EXIT STATUS
Normally exit value 0 is returned; if an error occurs, the exit value is not
equal to 0.

.SH FILES
~/Settings/desktop
.RS
Backup of desktop background, if available.
.RE

.SH NOTES
.IP " 1." 4
Checklist install
.RS 4
.UR https://karelzimmer.nl/en
.UE
under Linux
.RE
.IP " 2." 4
Day 1 Operations
.RS 4
\fBkz restore\fR is mainly used for Day 1 Operations. See \fBkz\fR(1) for an
explanation.
.RE

.SH EXAMPLES
.EX
.sp
\fBkz restore\fR
.RS
Restore everything in the backup.
Starter \fBRestore\fR is also available for this purpose in a desktop
environment.
.RE
.sp
\fBkz restore --source/media/john/usbstick\fR
.RS
Restore the backup of the Home folder of John on /media/john/usbstick from the
john@pc02 directory.
.RE
.EE

.SH SEE ALSO
\fBkz\fR(1),
\fBkz-backup\fR(1),
\fBkz_common.sh\fR(1),
\fBkz-menu\fR(1),
.UR https://karelzimmer.nl/en
.UE
