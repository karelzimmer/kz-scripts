.\"############################################################################
.\"# SPDX-FileComment: Man page for kz-build
.\"#
.\"# SPDX-FileCopyrightText: Karel Zimmer <info@karelzimmer.nl>
.\"# SPDX-License-Identifier: CC0-1.0
.\"############################################################################

.TH "KZ-BUILD" "1" "4.2.1" "kz" "User commands"

.SH NAME
kz-build \- Build website including kz packages

.SH SYNOPSIS
.B kz build
[<options>]

.SH DESCRIPTION
\fBkz build\fR builds the Debain and RPM package kz and the website
https://karelzimmer.nl.
.sp
The built Debian package, kz, will then be installed locally.
.sp
This is to develop and test the package, the website, and the installation, and
to distribute it later with \fBkz deploy\fR.
.sp
The local kz-docs and kz-scripts Git repositories are used as inputs. Text
files are converted into pdf files with 'lowriter convert-to pdf'.
.sp
With command \fBkz deploy\fR the website (including package kz) can be placed
on the internet so that the scripts and documents are available for general
use.
.sp
Command \fBkz build\fR is also called from \fBkz deploy\fR.
.sp
Package kz populates the following system directories:
.br
/etc/
.RS
Policy files for Firefox and Chrome, and package kz build ID.
.RE
.sp
/usr/bin/
.RS
Scripts (kz*)
.RE
.sp
/usr/share/applications/
.RS
Desktop configuration files (kz*.desktop)
.RE
.sp
/usr/share/bash-completion/completions/
.RS
Tab completion scripts (kz*)
.RE
.sp
/usr/share/locale/nl/
.RS
Dutch translation file (kz.mo)
.RE
.sp
/usr/share/man/man1/
.RS
Manual pages (EN)
.RE
.sp
/usr/share/man/nl/man1/
.RS
Manual pages (NL)
.RE
.sp
/usr/share/polkit-1/actions/
.RS
PolicyKit action definition files (nl.karelzimmer.kz*.policy)
.RE
.sp
Command \fBkz build\fR can only be run in a desktop environment.

.SH OPTIONS
.TP
\fB-h\fR, \fB--help\fR
Show a short description of the available options.
.TP
\fB-m\fR, \fB--manual\fR
Show the manual page.
.TP
\fB-u\fR, \fB--usage\fR
Show the available options.
.TP
\fB-v\fR, \fB--version\fR
Show the version, author, and copyright.

.SH EXIT STATUS
Normally exit value 0 is returned; if an error occurs, the exit value is not
equal to 0.

.SH FILES
~/kz-deb/src/*
.RS
Source files Debian package kz (Git).
.RE
.sp
~/kz-deb/dist/*
.RS
Distribution files Debian package kz.
.RE
.sp
~/kz-rpm/src/*
.RS
Source files RPM package kz (Git).
.RE
.sp
~/kz-rpm/dist/*
.RS
Distribution files RPM package kz.
.RE
.sp
~/kz-docs/*
.RS
Checklists (Git).
.RE
.sp
~/kz-scripts/*
.RS
Scripts (Git).
.br
Includes manual pages (usr/share/man/man1/ and usr/share/man/nl/man1/),
.br
Tab completion scripts (usr/share/bash-completion/completions/),
.br
Desktop configuration files (usr/share/applications/), and
.br
PolicyKit action definition files (usr/share/policypolkit-1/actions/).
.RE
.sp
~/kz-uploads/src/*
.RS
Source files website karelzimmer.nl (Git).
.RE
.sp
~/kz-uploads/dist/*
.RS
Distribution files website karelzimmer.nl.
.RE
.sp
~/bin/rchecklink
.RS
Reverse checklink.
.RE
.sp
~/kz-uploads/dist/assets/packages/kz_4.2.1-1_all.deb
.RS
Debian package kz.
.RE
.sp
/usr/share/doc/kz/build.id
.RS
Build ID file.
.RE
.sp
/tmp/kz-build-XXXXXXXXXX.deb
.RS
Downloaded debian file, e.g. kz-build-Ocxpm2bJgl.deb.
.RE

.SH NOTES
.IP " 1." 4
CI/CD and Day 1 Operations
.RS 4
\fBkz build\fR is mainly used for \fBCI/CD\fR and \fBDay 1 Operations\fR. See
\fBkz\fR(1) for an explanation.
.RE

.SH SEE ALSO
\fBkz\fR(1),
\fBkz_common.sh\fR(1),
\fBkz-check\fR(1),
\fBkz-deploy\fR(1),
\fBhttps://karelzimmer.nl/en\fR
