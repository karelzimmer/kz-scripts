.\"############################################################################
.\"# SPDX-FileComment: Man page for kz-backup
.\"#
.\"# SPDX-FileCopyrightText: Karel Zimmer <info@karelzimmer.nl>
.\"# SPDX-License-Identifier: CC0-1.0
.\"############################################################################
.\"
.TH "KZ-BACKUP" "1" "4.2.1" "KZ" "Kz Manual"
.\"
.\"
.SH NAME
kz-backup \- Make backup
.\"
.\"
.SH SYNOPSIS
.B kz backup
[OPTION...]
.\"
.\"
.SH DESCRIPTION
\fBkz backup\fR makes a backup copy of the Home folder.
.sp
In a desktop environment command \fBkz backup\fR can be executed by
searching for \fBback\fR, click on \fBMake backup\fR.
.sp
Before a backup is made, if possible, the set desktop background, user picture,
and favorites are saved. See \fBFILES\fR section below for the exact location.
.sp
The backup is placed on a mounted USB medium such as a USB external hard disk
in folder \fB<user_name>@<computer name>\fR, this folder is created as needed,
for example /media/john/backupdisk/john@pc02 for John at pc02.
.sp
With option \fB-g\fR, \fB--gui\fR, \fBkz backup\fR runs in graphical mode. A
desktop environment is required.
.sp
With option \fB-t\fR, \fB--target\fR \fIDIRECTORY\fR another location can be
specified. For example /media/john/usbstick instead of /media/john/backupdisk.
.sp
These locations are ignored by default:
.RS
 .cache
 .ccache
 .gvfs
 .Private
 .steam/root
 .var/app/*/cache
 .xsession-errors
 snap/*/*/.cache
 *CACHEDIR.TAG* (i.e. any folder with a CACHEDIR.TAG)
.RE
Also, directories managed by Git are not backed up.
Example: ~/kz-scripts is skipped due to the presence of ~/kz-scripts/.git.
.sp
rsync is used to create the backup.
.sp
Files deleted from the Home folder are also removed from the backup (rsync's
--delete option is used).
.sp
With command \fBkz restore\fR the Home folder can be restored.
.\"
.\"
.SH OPTIONS
Mandatory arguments to long options are mandatory for short options too.
.TP
\fB-g\fR, \fB--gui\fR
Run in graphical mode (gui=graphical user interface). A desktop environment is
required.
.TP
\fB-t\fR, \fB--target \fIDIRECTORY\fR
Place the backup in the \fIDIRECTORY\fR.
.TP
\fB-h\fR, \fB--help\fR
Show a short description of the available options.
.TP
\fB-m\fR, \fB--manual\fR
Show the manual page.
.TP
\fB-u\fR, \fB--usage\fR
Show the available options.
.TP
\fB-v\fR, \fB--version\fR
Display the version, author, and copyright.
.\"
.\"
.SH EXIT STATUS
Normally exit value 0 is returned; if an error occurs, the exit value is not
equal to 0.
.\"
.\"
.SH FILES
~/kz-backup
.RS
List of excluded files and directories.
.RE
.sp
~/kz-backup.d/apps.txt
.RS
List of installed apps. For checking installation.
.RE
.sp
~/kz-backup.d/avatar
.RS
Backup of user avatar, if available.
.RE
.sp
~/kz-backup.d/avatar.txt
.RS
Instructions for restoring the user avatar, if available.
.RE
.sp
~/kz-backup.d/desktop
.RS
Backup of desktop background, if available.
.RE
.sp
~/kz-backup.d/desktop.txt
.RS
Instructions for restoring the desktop background, if available.
.RE
.sp
~/kz-backup.d/favs.txt
.RS
Set favorites in the favorites bar (dash/dock). For checking set up.
.RE
.sp
~/kz-backup.d/users.txt
.RS
Instructions for adding additional users.
.RE
.\"
.\"
.SH NOTES
.IP " 1." 4
Checklist install
.RS 4
https://karelzimmer.nl/en, under Linux
.RE
.IP " 2." 4
Day 2 Operations
.RS 4
\fBkz backup\fR is mainly used for Day 2 Operations. See \fBkz\fR(1) for an
explanation.
.RE
.\"
.\"
.SH EXAMPLES
.sp
\fBkz backup\fR
.RS
Make a backup copy of the Home folder.
Starter \fBMake a backup\fR is also available for this in a desktop
environment.
.RE
.sp
\fBkz backup --target /media/john/usbstick\fR
.RS
Back up the Home folder of John on pc02 to /media/john/usbstick in the folder
john@pc02 (this folder will be created as needed).
.RE
.\"
.\"
.SH AUTHOR
Written by Karel Zimmer <info@karelzimmer.nl>.
.br
License CC0 1.0 <https://creativecommons.org/publicdomain/zero/1.0>.
.\"
.\"
.SH SEE ALSO
\fBkz\fR(1),
\fBkz_common.sh\fR(1),
\fBkz-menu\fR(1),
\fBkz-restore\fR(1),
\fBhttps://karelzimmer.nl/en\fR
.\"
.\"
.SH KZ
Part of the \fBkz\fR(1) package, named after its creator, Karel Zimmer.
.\"
.\"
.SH AVAILABILITY
Command \fBkz backup\fR is part of the \fBkz\fR package and is available on
Karel Zimmer's website <https://karelzimmer.nl/en>, under Linux.
