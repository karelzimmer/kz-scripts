.\"############################################################################
.\"# Man-pagina voor kz backup.
.\"#
.\"# Geschreven door Karel Zimmer <info@karelzimmer.nl>.
.\"############################################################################
.\"
.TH KZ-KZBACKUP 1 "" "kz 365" "KZ Handleiding"
.\"
.\"
.SH NAAM
kz backup \- Back-up maken.
.\"
.\"
.SH SAMENVATTING
.B kz backup
[OPTIE...]
.\"
.\"
.SH BESCHRIJVING
\fBkz backup\fR maakt een back-up (reservekopie) van de Persoonlijke map op
Debian en op Debian gebaseerd systeem zoals Ubuntu.
.sp
In een grafische werkomgeving zoals Ubuntu met GNOME kan opdracht
\fBkz backup\fR worden uitgevoerd door te zoeken naar \fBback\fR, klik op
\fBBack-up maken\fR.
.sp
Er wordt gebruikersdata veiliggesteld voordat er een back-up wordt gemaakt in
de Persoonlijke map / Instellingen. In deze map Instellingen staan bestanden
met geïnstalleerde apps en gekozen Achtergrond, Gebruikersfoto, en Favorieten.
.sp
De back-up wordt geplaatst op een aangekoppeld USB-medium zoals een USB externe
harddisk in map \fBbackup-<computernaam>-<gebruikersnaam>\fR, deze map
wordt aangemaakt als nodig, bijvoorbeeld
/media/jan/backupdisk/backup-pc02-jan.
.sp
Met optie \fB-t\fR, \fB--target\fR kan een andere locatie opgegeven worden.
Bijvoorbeeld /tmp in plaats van /media/jan/backupdisk (onverstandig want /tmp
wordt leeggegooid na een herstart).
.sp
Optie \fB--dry-run\fR voert een proefrun uit zonder wijzigingen aan te brengen.
Het wordt meestal gebruikt in combinatie met de \fB--delete\fR optie om te zien
wat een rsync-commando gaat doen voordat men het daadwerkelijk uitvoert.
.sp
Optie \fB--delete\fR verwijdert bestanden uit de back-up die niet meer
voorkomen in de Persoonlijke map. Deze optie is standaard bij optie \fB-g\fR,
\fB--gui\fR.
.sp
Standaard worden de volgende bestanden en mappen NIET in de back-up opgenomen:
.RS
 .adobe/Flash_Player/AssetCache
 .cache
 .ccache
 .git
 .gvfs
 .Private
 .recent-applications.xbel
 .recently-used.xbel
 snap/*/*/.cache
 .steam/root
 .thumbnails
 .var/app/*/cache
 .xsession-errors
.RE
.sp
Tevens worden "git-controlled" mappen niet in de back-up opgenomen. Voorbeeld:
~/bin wordt overgeslagen vanwege de aanwezigheid van ~/bin/.git.
.sp
Voor het maken van de back-up wordt rsync gebruikt.
.sp
Met opdracht \fBkz restore\fR is de Persoonlijke map te herstellen.
.\"
.\"
.SH OPTIES
.TP
\fB--delete\fR
Uit de Persoonlijke map verwijderde bestanden ook uit de back-up verwijderen
(standaard bij optie \fB-g\fR, \fB--gui\fR).
.TP
\fB--dry-run\fR
Een proefrun uitvoeren zonder wijzigingen aan te brengen.
.TP
\fB-t\fR, \fB--target=\fIDOELMAP\fR
Plaats back-up in de \fIDOELMAP\fR.
.TP
\fB-u\fR, \fB--usage\fR
Toon de beschikbare opties.
.TP
\fB-h\fR, \fB--help\fR
Toon een korte omschrijving van de beschikbare opties.
.TP
\fB-v\fR, \fB--version\fR
Toon de versie, de auteur, en het auteursrecht.
.TP
\fB-g\fR, \fB--gui\fR
Start in grafische modus
(gui=graphical user interface; grafische gebruikersinterface).
.\"
.\"
.SH STOPSTATUS
Normaal wordt afsluitwaarde 0 teruggegeven; als er een fout optreedt, is de
afsluitwaarde ongelijk 0.
.\"
.\"
.SH BESTANDEN
~/Instellingen/Adachtergrond
.RS
Ingestelde bureaubladachtergrond.
.RE
.sp
~/Instellingen/Apps
.RS
Lijst met geïnstalleerde apps.
.RE
.sp
~/Instellingen/Favorieten
.RS
Ingestelde favorieten in de favorietenbalk (dash/dock).
.RE
.sp
~/Instellingen/Gebruikersfoto
.RS
Ingestelde gebruikersfoto.
.RE
.\"
.\"
.SH NOTITIES
.IP " 1." 4
Checklist installatie
.RS 4
https://karelzimmer.nl
.RE
.\"
.\"
.SH VOORBEELDEN
.sp
\fBkz backup\fR
.RS
Maak een back-up van de Persoonlijke map.
.br
Hiervoor is ook starter \fBBack-up maken\fR beschikbaar.
.RE
.sp
\fBkz backup --dry-run --delete\fR
.RS
Toon bestanden die anders toegevoegd en verwijderd zouden worden in de back-up.
.RE
.sp
\fBkz backup --target=smb://fileserver/backups\fR
.RS
Maak een back-up van de Persoonlijke map naar SMB-share 'backups' op\
 'fileserver' in de map 'backup-pc02-jan' (deze map wordt aangemaakt als
nodig).
.RE
.\"
.\"
.SH AUTEUR
Geschreven door Karel Zimmer <info@karelzimmer.nl>.
.\"
.\"
.SH ZIE OOK
\fBkz-common.sh\fR(1),
\fBkz-menu\fR(1),
\fBkz-restore\fR(1),
\fBhttps://karelzimmer.nl\fR
.\"
.\"
.SH KZ
Onderdeel van het \fBkz\fR(1) pakket, genoemd naar de maker Karel Zimmer.
.\"
.\"
.SH BESCHIKBAARHEID
Opdracht \fBkz backup\fR is onderdeel van het pakket \fBkz\fR en is
beschikbaar vanaf Karel Zimmer - Linux - Scripts
<https://karelzimmer.nl/html/linux.html#scripts>.
